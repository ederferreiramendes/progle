(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{6644:function(e,t,a){Promise.resolve().then(a.bind(a,3914))},3914:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(7437),s=a(2265),n=a(6013),i=a(3102),o=a(495),c=a(8030);let l=(0,c.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),d=(0,c.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),f=(0,c.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var u=a(5137),m=a(7135),h=a(7138),g=a(6463),p=a(5173);let x=e=>e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");var v=()=>{let e=(0,g.useRouter)(),[t,a]=(0,s.useState)(""),[c,v]=(0,s.useState)(""),[b,y]=(0,s.useState)(!1),[j,w]=(0,s.useState)(0),[N,C]=(0,s.useState)(""),[k,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=sessionStorage.getItem("forgotPasswordData");if(e){let{cpf:t,codeRequestTimestamp:r}=JSON.parse(e);if(a(x(t)),r){let e=Date.now()-parseInt(r,10);e<6e4?(y(!0),w(Math.ceil((6e4-e)/1e3))):_()}}},[]),(0,s.useEffect)(()=>{let e;return j>0?e=setTimeout(()=>w(j-1),1e3):0===j&&b&&_(),()=>clearTimeout(e)},[j,b]);let _=()=>{sessionStorage.removeItem("forgotPasswordData"),y(!1)},D=async()=>{S(!0),C("");try{let e=await fetch("".concat(p.Z,"/candidato/recuperar_senha?cpf=").concat(t));if(e.ok)y(!0),w(60),sessionStorage.setItem("forgotPasswordData",JSON.stringify({cpf:t.replace(/\D/g,""),codeRequestTimestamp:Date.now().toString()}));else{let t=await e.json();C(t.message||"Erro ao enviar c\xf3digo. Tente novamente.")}}catch(e){C("Erro ao enviar c\xf3digo. Tente novamente mais tarde.")}finally{S(!1)}},R=async()=>{S(!0),C("");try{let a=await fetch("".concat(p.Z,"/candidato/verifica_codigo_recuperar_senha"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cpf:t,codigo:c})});if(a.ok){let t=await a.json();sessionStorage.setItem("tokenRecuperacao",t),e.push("/recuperacao_senha/nova_senha")}else{let e=await a.json();C(e.message||"C\xf3digo inv\xe1lido. Tente novamente.")}}catch(e){C("Erro ao verificar c\xf3digo. Tente novamente mais tarde.")}finally{S(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#e6f0f3] to-[#c1d9e0] flex items-center justify-center p-4",children:(0,r.jsxs)(n.Zb,{className:"w-full max-w-md shadow-lg bg-white rounded-xl overflow-hidden",children:[(0,r.jsxs)(n.Ol,{className:"bg-gradient-to-r from-[#004a60] to-[#006d8f] text-white py-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("img",{src:"/IBFC_logo_alta_branco2.png",alt:"Logo da Empresa",className:"h-16 object-contain"})}),(0,r.jsx)(n.ll,{className:"text-3xl font-bold text-center",children:"Recuperar Senha"})]}),(0,r.jsxs)(n.aY,{className:"grid gap-6 p-6",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Como funciona:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,r.jsx)("li",{children:'Digite seu CPF e clique em "Enviar c\xf3digo".'}),(0,r.jsx)("li",{children:"Voc\xea receber\xe1 um c\xf3digo no email cadastrado."}),(0,r.jsx)("li",{children:"Digite o c\xf3digo recebido para verificar sua identidade."}),(0,r.jsx)("li",{children:"Ap\xf3s a verifica\xe7\xe3o, voc\xea poder\xe1 criar uma nova senha."})]})]}),N&&(0,r.jsx)("div",{className:"text-red-500 text-center font-semibold",children:N}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(m._,{htmlFor:"cpf",className:"text-[#004a60] font-semibold",children:"CPF"}),(0,r.jsx)(i.I,{id:"cpf",placeholder:"Digite seu CPF",value:t,onChange:e=>{let t=x(e.target.value);a(t),sessionStorage.setItem("forgotPasswordData",JSON.stringify({cpf:t.replace(/\D/g,"")}))},maxLength:14,className:"bg-white border-[#004a60] focus:ring-[#004a60]"})]}),b&&(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(m._,{htmlFor:"verificationCode",className:"text-[#004a60] font-semibold",children:"C\xf3digo de Verifica\xe7\xe3o"}),(0,r.jsx)(i.I,{id:"verificationCode",placeholder:"Digite o c\xf3digo recebido",value:c,onChange:e=>v(e.target.value),className:"bg-white border-[#004a60] focus:ring-[#004a60]"})]}),(0,r.jsx)("div",{className:"grid gap-2",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.z,{className:"flex items-center justify-center gap-2 bg-[#004a60] hover:bg-[#006d8f] text-white transition-colors duration-300",onClick:R,disabled:k,children:k?"Verificando...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{className:"w-5 h-5"}),"Verificar C\xf3digo"]})}),(0,r.jsx)(o.z,{variant:"outline",className:"flex items-center justify-center gap-2 border-[#004a60] text-[#004a60] hover:bg-[#004a60] hover:text-white transition-colors duration-300",onClick:D,disabled:k||j>0,children:j>0?"Reenviar em ".concat(j,"s"):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{className:"w-5 h-5"}),"Reenviar C\xf3digo"]})})]}):(0,r.jsx)(o.z,{className:"flex items-center justify-center gap-2 bg-[#004a60] hover:bg-[#006d8f] text-white transition-colors duration-300",onClick:D,disabled:k,children:k?"Enviando...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{className:"w-5 h-5"}),"Enviar C\xf3digo"]})})}),(0,r.jsx)(h.default,{href:"/",className:"w-full",children:(0,r.jsxs)(o.z,{variant:"outline",className:"w-full flex items-center justify-center gap-2 border-[#004a60] text-[#004a60] hover:bg-[#004a60] hover:text-white transition-colors duration-300",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5"}),"Voltar para Login"]})})]})]})})}},495:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var r=a(7437),s=a(2265),n=a(1538),i=a(2218),o=a(7440);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...d}=e,f=l?n.g7:"button";return(0,r.jsx)(f,{className:(0,o.cn)(c({variant:s,size:i,className:a})),ref:t,...d})});l.displayName="Button"},6013:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var r=a(7437),s=a(2265),n=a(7440);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},3102:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var r=a(7437),s=a(2265),n=a(7440);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},7135:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var r=a(7437),s=a(2265),n=a(8364),i=a(2218),o=a(7440);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,o.cn)(c(),a),...s})});l.displayName=n.f.displayName},5173:function(e,t){"use strict";let a="http://localhost:3001";a="https://hzjr705w8e.execute-api.sa-east-1.amazonaws.com/default",t.Z=a},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(4839),s=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},5137:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8364:function(e,t,a){"use strict";a.d(t,{f:function(){return o}});var r=a(2265),s=a(5171),n=a(7437),i=r.forwardRef((e,t)=>(0,n.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i}},function(e){e.O(0,[863,138,971,23,744],function(){return e(e.s=6644)}),_N_E=e.O()}]);